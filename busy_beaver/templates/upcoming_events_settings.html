{% extends "base.html" %}
{% from "bootstrap/form.html" import render_field, render_form_row %}

{% block container %}
<h1>Configure Upcoming Events</h1>

<p>Enabled: {{ enabled }} (<a href="{{ url_for('web.toggle_upcoming_events_config_view') }}">toggle</a>)</p>

<form method="POST" action="{{ url_for('web.upcoming_events_settings') }}">
  {{ form.csrf_token }}

  {{ render_form_row([form.channel], col_map={'channel': 'col-md-4'}) }}
  {{ render_form_row([form.post_num_events], col_map={'post_num_events': 'col-md-4'}) }}
  {{ render_form_row(
      [form.post_day_of_week, form.post_time, form.post_timezone],
      col_map={'post_day_of_week': 'col-md-2', 'post_time': 'col-md-2', 'post_timezone': 'col-md-6'}
    )
  }}
  <input type="submit" value="Submit" class="btn btn-primary">
</form>

<br><br>

<h4>My Groups</h4>

<ul>
  {% for field in groups %}
  <li>{{ field }}</li>
  {% endfor %}
  <li>
    <a href="{{ url_for('web.upcoming_events_add_new_group') }}">Add / remove groups</a>
  </li>
</ul>

<br><br>

{% endblock %}
